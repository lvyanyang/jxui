<!DOCTYPE html>
<html>
<head>
    <title>表单示例</title>
    <meta charset="utf-8">
    <link href="//47.94.175.234/cdn/jx/1.0.1/jx.min.css" rel="stylesheet">
    <script src="//47.94.175.234/cdn/jx/1.0.1/jx.min.js"></script>
</head>
<body>
<div class="jxform-wrap">
    <div class="jxform-container">
        <form class="jxform" method="post" action="../mock/form.php">
            <div class="jxform-header">
                <div class="jxform-title">
                    <strong>表单示例</strong>
                </div>
            </div>
            <table class="table jxtable-form">
                <tr>
                    <th class="w-110px">姓名</th>
                    <td>
                        <input name="name" class="form-control" autofocus autocomplete="off" maxlength="5"
                               data-validate="{required: [true,'请输入姓名'],maxlength: [5,'姓名长度不能超过{0}个字符']}">
                    </td>
                </tr>
                <tr>
                    <th>身份证</th>
                    <td>
                        <input name="idnum" class="form-control" maxlength="18" autofocus autocomplete="off"
                               data-validate="{required: true,idNumber:true}">
                    </td>
                </tr>
                <tr>
                    <th>类别</th>
                    <td>
                        <select name="build" class="form-control jxchosen"
                            data-placeholder="选择一个类别...">
                            <option value=""></option>
                            <option value="1">张三</option>
                            <option value="2">李四</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>发布日期</th>
                    <td>
                        <input name="date" class="form-control jxdate"
                               data-validate="{required: [true,'请输入发布日期']}">
                    </td>
                </tr>
                <tr>
                    <th>车牌号码</th>
                    <td>
                        <input name="carn" class="form-control"
                               data-validate="{carNumber: true}">
                    </td>
                </tr>
                <tr>
                    <th>描述</th>
                    <td>
                        <textarea name="备注" class="form-control" rows="3" style="resize: none"
                                  data-validate="{required: true}" ></textarea>
                    </td>
                </tr>
                <tr>
                    <th>附件</th>
                    <td>
                        <span class="color-red">因为安全原因，Demo暂时不支持上传附件功能！</span>
                    </td>
                </tr>
            </table>
            <div class="jxform-footer pl-130">
                <button class="btn btn-primary" type="submit">
                    <i class="fa fa-save"></i> 提交
                </button>
            </div>
        </form>
    </div>
</div>
<script>
    jx.ready(function () {
        $("form").on("beforesubmit", function () {
            console.log(jx.serialize($(this)));
            return false;
        }).on("aftersubmit", function (e, result) {
            if (result.success) {
                window.location.href = "grid.html";
            }
            else {
                jx.alert(result.message);
            }
        });
    });
</script>
</body>
</html>